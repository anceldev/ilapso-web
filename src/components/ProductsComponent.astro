---
import Footer from "./Footer.astro"
import { productsReplicas } from "@/lib/data";

interface Product {
  id: number;
  slug: string;
  name: string;
  description: string;
  price: Array<{
    id: number;
    price: string;
    details: string;
  }>;
  image: string;
}

const { categoria = "replicas", productos } = Astro.props;
const productosToShow = productos || productsReplicas;
---
<section class="flex flex-col items-center justify-center max-w-[1500px] mx-auto h-fit column-gap-4 px-6 lg:px-20 sticky pb-12 lg:pb-24">
  <div class="grid grid-cols-1 lg:grid-cols-3 w-full gap-x-4 gap-y-4">
    {
      productosToShow.map((product: Product) => (
        <div class="col-span-1 min-h-[400px] relative overflow-hidden">
          <a href={`/productos/${categoria}/${product.slug}`} class="group flex items-start size-full overflow-hidden">
            <img src={product.image} alt={product.description} class="absolute h-full w-full object-cover transition-all duration-400 transform-3d"/>
            <div class="pointer-events-none absolute inset-0 z-3 flex size-full flex-col items-start justify-end gap-2 p-6 lg:opacity-0 group-hover:opacity-100 transition-all duration-450" style="background-color: rgba(17, 14, 9, 0.4); background-image: linear-gradient(180deg, #fff0, var(--color--bg-dark3, var(--color-dark-orchestra)))">
              <div class="w-full flex flex-col">
                {
                  product.price.map((price) => (
                    <div class="lg:hidden lg:group-hover:flex flex-row transition-all duration-450 gap-y-1">
                      <p class="font-inconsolata text-white text-paragraph-big">{price.price}&nbsp;{price.details}</p>
                    </div>
                  ))
                }
              </div>
              <div class="flex flex-col gap-0">
                <h4 class="text-h5 text-white font-light font-creato leading-tight transition-transform duration-450 lg:group-hover:-translate-y-1">{product.name}</h4>
                <p class="lg:hidden font-creato text-malt group-hover:block transition-all duration-450 text-pharagraph-small lg:text-base">{product.description}</p>
              </div>
            </div>
          </a>
        </div>
      ))
    }
  </div>
</section>

<style>
  * {
    /* border: 1px solid blue; */
  }
</style>